<!DOCTYPE html>
<html>
   <head>

      <meta name = "viewport" content = "width = device-width, initial-scale = 1">
      <link rel = "stylesheet" href = "https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
      <script src = "https://code.jquery.com/jquery-1.11.3.min.js"></script>
      <script src = "https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
      <script src = "https://checkout.stripe.com/checkout.js" ></script>
   </head>

   <body>
      <div data-role = "page" id = "page1">

         <div data-role = "header">
            <h2>Header</h2>
         </div>

        <form id="frmBooking" name="bookingForm" action="post" action="_self">
          <input id="item_name"  name="item_name" type="text"  value="3 Cinema Tickets" />
          <input id="item_value"  name="item_value" type="text"  value="20" />
          <button id="customButton">Purchase</button>
       </form>

     <div id="thankyouPayment">

    <script type="text/javascript">
         jQuery(function($){
           var $form = $('#frmBooking');
           var handler = StripeCheckout.configure({
             key:'pk_test_cp21BcECf4kMMUbSlRlZlsMo',
             token : function(token){
                if(token.id){
                  $("#thankyouPayment").html("Thank you")
                }
             }
           })

         $('#customButton').on('click', function(e) {
           handler.open({
               name : 'Demo Site',
               currency: 'LKR',
               description: $('#item_name').val(),
               amount: $('#item_value').val() * 100
           });

         $(window).on('popstate', function(){
           handler.close();
         });
         });
       });
       </script>

     </div>

         <div data-role = "footer">
            <h4>Footer</h4>
         </div>
      </div>

   </body>
</html>
